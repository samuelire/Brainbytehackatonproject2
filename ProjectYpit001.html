<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Dropout Risk Predictor</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 1px;
        }
        .header {
            position: relative;
            color: white;
            padding: 60px 20px;
            text-align: center;
            background-image: url('https://graduatecoach.co.uk/wp-content/uploads/2019/09/academy-celebrate-celebration-267885-1-1024x683.jpg');
            background-size: cover;
            background-position: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2.5em;
        }
        .header p {
            font-size: 1.2em;
        }
        .container {
            display: flex;
            flex-direction: column;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        h2 {
            color: #333;
        }
        .form-control {
            margin-bottom: 15px;
        }
        .form-control label {
            display: block;
            margin-bottom: 5px;
        }
        .form-control input, .form-control select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .button {
            background-color: #28a745;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
        }
        .button:hover {
            background-color: #218838;
        }
        .result {
            padding: 20px;
            border-radius: 8px;
            font-size: 18px;
            margin-top: 15px;
            text-align: center;
        }
        .low-risk {
            background-color: #d4edda; 
            color: #155724; 
            border: 1px solid #c3e6cb; 
        }
        .high-risk {
            background-color: #f8d7da; 
            color: #721c24; 
            border: 1px solid #f5c6cb;
        }
        .assessment-factors {
            margin-top: 15px;
            font-size: 14px;
            text-align: left;
            border-top: 1px solid #ccc;
            padding-top: 10px;
        }
        .risk-summary {
            font-weight: bold;
            margin-top: 15px;
            
        }
    </style>
 <script>
    document.getElementById("predictForm").addEventListener("submit", async function(event) {
      event.preventDefault();

      const payload = {
        absences: parseInt(document.getElementById("absences").value),
        age: parseInt(document.getElementById("age").value),
        final_grade: parseInt(document.getElementById("final_grade").value),
        grade_1: parseInt(document.getElementById("grade_1").value),
        grade_2: parseInt(document.getElementById("grade_2").value),
        past_failures: parseInt(document.getElementById("past_failures").value),
        sex: document.getElementById("sex").value,
        study_time: parseInt(document.getElementById("study_time").value)
      };

      try {
        const response = await fetch("https://hackathon-ge82.onrender.com/predict", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload)
        });

        const data = await response.json();
        document.getElementById("result").textContent = JSON.stringify(data, null, 2);
      } catch (error) {
        document.getElementById("result").textContent = "Error: " + error;
      }
    });
  </script>
</head>
<body>

    <div class="header">
        <h1>Student Dropout Risk Predictor</h1>
        <p>Advanced ML analysis of academic performance, attendance, socioeconomic factors, and school engagement to predict dropout risk.</p>
    </div>

    <div class="container">
        <div class="form-section">
            <h2>Comprehensive Student Assessment</h2>
            <div class="form-control">
                 <div class="form-control">
                <label for="age">Age</label>
                <input type="number" id="age" min="0" placeholder="Enter Age">
                </div>
                
                <div class="form-control">
                <label for="gender">Gender</label>
                <select id="gender">
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                </select>
            </div>
                            <div class="form-control">
                <label for="grade-level">Grade Level</label>
                <select id="grade-level">
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select>
            </div>
            
            <div class="form-control">
                <label for="parent-education">Parent Education Level</label>
                <select id="parent-education">
                    <option value="high-school">High School</option>
                    <option value="associate">Associate Degree</option>
                    <option value="bachelor">Bachelor's Degree</option>
                    <option value="graduate">Graduate Degree</option>
                </select>
            </div>
            
             <div class="form-control">
                <label for="family-income">Family Income Level</label>
                <select id="family-income">
                    <option value="low">Low</option>
                    <option value="medium">Medium</option>
                    <option value="high">High</option>
                </select>
            </div>
            
                <label for="grade-period-1">Grade Period 1</label>
                <input type="number" id="grade-period-1" placeholder="Enter Grade Period 1">
            </div>
            <div class="form-control">
                <label for="grade-period-2">Grade Period 2</label>
                <input type="number" id="grade-period-2" placeholder="Enter Grade Period 2">
            </div>

            <div class="form-control">
                <label for="final-grade">Final Grade</label>
                <input type="number" id="final-grade" min="0" max="100" placeholder="Enter Final Grade">
            </div>
            <div class="form-control">
                <label for="attendance">Total Absences</label>
                <input type="number" id="attendance" min="0" placeholder="Enter Total Absences">
            </div>
            <div class="form-control">
                <label for="study-time">Weekly Study Time (hours)</label>
                <input type="number" id="study-time" min="0" placeholder="Enter Study Time (hours)">
            </div>
            
           
            <div class="form-control">
                <label for="extracurricular">Extracurricular Activities</label>
                <input type="text" id="extracurricular" placeholder="Describe involvement (e.g., clubs, sports)">
            </div>
            <div class="form-control">
                <label for="library-usage">Library Usage (hours/week)</label>
                <input type="number" id="library-usage" min="0" placeholder="Enter Library Usage (hours/week)">
            </div>

            
            <div class="form-control">
                <label for="academic-failures">Past Academic Failures</label>
                <input type="number" id="academic-failures" min="0" placeholder="Enter Number of Past Failures">
            </div>
            <button class="button" onclick="generateRiskAssessment()">Generate Risk Assessment</button>
        </div>
        
        <div class="result-section" id="resultSection" style="display: none;">
            <h2>Risk Assessment</h2>
            <div id="riskAssessment" class="result"></div>
            <div class="assessment-factors" id="assessmentFactors"></div>
            <button class="button" onclick="cancelAssessment()">Cancel</button>
        </div>
    </div>

    <script>
function generateRiskAssessment() {
    const gradePeriod1 = parseFloat(document.getElementById('grade-period-1').value);
    const gradePeriod2 = parseFloat(document.getElementById('grade-period-2').value);
    const finalGrade = parseFloat(document.getElementById('final-grade').value);
    const attendance = parseFloat(document.getElementById('attendance').value);
    const studyTime = parseFloat(document.getElementById('study-time').value);
    const parentEducation = document.getElementById('parent-education').value;
    const familyIncome = document.getElementById('family-income').value;
    const extracurricular = document.getElementById('extracurricular').value;
    const libraryUsage = parseFloat(document.getElementById('library-usage').value);
    const age = parseFloat(document.getElementById('age').value);
    const gender = document.getElementById('gender').value;
    const academicFailures = parseFloat(document.getElementById('academic-failures').value);

    let riskScore = 0;


    if (finalGrade < 60) riskScore += 5; 
    if (attendance > 20) riskScore += 5; 
    if (studyTime < 5) riskScore += 5; 
    if (parentEducation === 'high-school') riskScore += 5;
    if (familyIncome === 'low') riskScore += 5;
    if (!extracurricular) riskScore += 5;
    if (libraryUsage < 2) riskScore += 5; 
    if (academicFailures > 0) riskScore += 5;

    let riskLevel, riskClass;

    if (riskScore <= 10) {
        riskLevel = "Low Risk";
        riskClass = "low-risk";
    } else {
        riskLevel = "High Risk";
        riskClass = "high-risk";
    }

    document.getElementById('riskAssessment').innerHTML = `
        <div class="risk-summary">${riskLevel}</div>
        <div>Risk Score: ${riskScore}/15</div>
        <div class="risk-description">${riskLevel === "Low Risk" ? 
        'Low risk assessment. Student demonstrates good academic performance, regular attendance, and positive engagement. Continue current support and maintain regular check-ins.' : 
        'High risk assessment. Student may require additional support and intervention to improve academic performance and engagement.'}</div>
        <ul>
            <li>Age: ${age}</li>
            <li>Gender: ${gender}</li>
            <li>Parent Education: ${parentEducation}</li>
            <li>Family Income: ${familyIncome}</li>
            <li>Grade Period 1: ${gradePeriod1}</li>
            <li>Grade Period 2: ${gradePeriod2}</li>
            <li>Final Grade: ${finalGrade}</li>
            <li>Attendance: ${attendance}</li>
            <li>Study Time: ${studyTime}</li>
            <li>Extracurricular: ${extracurricular}</li>
            <li>Library Usage: ${libraryUsage}</li>
            <li>Past Failures: ${academicFailures}</li>
        </ul>
    `;
    document.getElementById('riskAssessment').className = `result ${riskClass}`;
    document.getElementById('resultSection').style.display = 'block';
}
        function cancelAssessment() {
            document.getElementById('resultSection').style.display = 'none';
        }
    </script>
</body>
</html>
